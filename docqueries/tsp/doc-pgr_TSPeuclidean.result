BEGIN;
BEGIN
SET client_min_messages TO NOTICE;
SET
SET log_min_duration_statement=-1;
SET
SET extra_float_digits=-3;
SET
-- q1
SELECT * FROM pgr_TSPeuclidean(
    $$
    SELECT id, st_X(the_geom) AS x, st_Y(the_geom)AS y  FROM edge_table_vertices_pgr
    $$,
    randomize := false);
 seq | node |      cost      |   agg_cost
-----+------+----------------+---------------
   1 |    1 |              0 |             0
   2 |    2 |              1 |             1
   3 |    3 |              1 |             2
   4 |    4 |              1 |             3
   5 |    5 |   2.2360679775 |  5.2360679775
   6 |    8 |              1 |  6.2360679775
   7 |    7 |              1 |  7.2360679775
   8 |   10 |   2.2360679775 |   9.472135955
   9 |   11 |              1 |  10.472135955
  10 |   16 | 0.860232526704 | 11.3323684817
  11 |    6 | 0.583095189485 | 11.9154636712
  12 |    9 |              1 | 12.9154636712
  13 |   12 |              1 | 13.9154636712
  14 |   17 |  1.11803398875 | 15.0334976599
  15 |   15 |  1.58113883009 |   16.61463649
  16 |   13 |            0.5 |   17.11463649
  17 |   14 |  1.58113883008 | 18.6957753201
  18 |    1 |  3.80788655293 |  22.503661873
(18 rows)

-- q2
SELECT* from pgr_TSPeuclidean(
    $$
    SELECT * FROM wi29
    $$,
    start_id => 3);
 seq | node |     cost      |   agg_cost
-----+------+---------------+---------------
   1 |    3 |             0 |             0
   2 |    7 | 891.004385199 | 891.004385199
   3 |    4 | 1172.13007716 | 2063.13446236
   4 |    5 |      816.6667 | 2879.80116236
   5 |    6 |     1533.3333 | 4413.13446236
   6 |    2 |  900.61709338 | 5313.75155574
   7 |    1 | 74.5356141571 | 5388.28716989
   8 |    8 | 3301.89339622 | 8690.18056611
   9 |   12 | 1320.77417786 |  10010.954744
  10 |   10 | 1359.73858926 | 11370.6933332
  11 |   11 | 106.718669615 | 11477.4120028
  12 |   13 | 2723.61072985 | 14201.0227327
  13 |   14 | 1321.76283931 |  15522.785572
  14 |   17 | 1202.91366736 | 16725.6992394
  15 |   18 | 683.333268293 | 17409.0325077
  16 |   19 | 432.691873945 | 17841.7243816
  17 |   15 | 772.082339449 |  18613.806721
  18 |   22 | 1449.95121489 | 20063.7579359
  19 |   23 | 220.141999628 | 20283.8999356
  20 |   21 | 197.926372783 | 20481.8263084
  21 |   29 | 440.456596291 | 20922.2829046
  22 |   28 | 592.939989005 | 21515.2228936
  23 |   26 | 648.288376333 |   22163.51127
  24 |   20 | 509.901951359 | 22673.4132213
  25 |   16 | 1274.64587544 | 23948.0590968
  26 |   25 | 1087.93889483 | 25035.9979916
  27 |   27 | 74.5356588785 | 25110.5336505
  28 |   24 | 559.016994375 | 25669.5506449
  29 |    9 | 5330.46807242 | 31000.0187173
  30 |    3 |  1415.4896746 | 32415.5083919
(30 rows)

-- q3
SELECT* from pgr_TSPeuclidean(
    $$
    SELECT id, st_X(the_geom) AS x, st_Y(the_geom) AS y FROM edge_table_vertices_pgr
    $$,
    start_id => 5,
    end_id => 10);
 seq | node |      cost      |   agg_cost
-----+------+----------------+---------------
   1 |    5 |              0 |             0
   2 |    8 |              1 |             1
   3 |    7 |              1 |             2
   4 |   15 |            2.5 |           4.5
   5 |   13 |            0.5 |             5
   6 |   14 |  1.58113883008 | 6.58113883008
   7 |   17 |  3.04138126515 | 9.62252009523
   8 |   12 |  1.11803398875 |  10.740554084
   9 |    4 |              2 |  12.740554084
  10 |    3 |              1 |  13.740554084
  11 |    2 |              1 |  14.740554084
  12 |    1 |              1 |  15.740554084
  13 |    9 |  2.82842712475 | 18.5689812087
  14 |   16 | 0.583095189485 | 19.1520763982
  15 |    6 | 0.583095189485 | 19.7351715877
  16 |   11 |              1 | 20.7351715877
  17 |   10 |              1 | 21.7351715877
  18 |    5 |              1 | 22.7351715877
(18 rows)

-- q4
ROLLBACK;
ROLLBACK
